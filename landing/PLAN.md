# Plan: Deploy SwipeForCause Landing Page

## Context

SwipeForCause has a single-file landing page (`swipeforcause-landing.html`) that needs to go live. The page has two email waitlist forms (volunteer + nonprofit) that currently only `console.log` submissions. We need to:

1. Get the page deployed to production on Azure Static Web Apps
2. Wire up the forms to actually collect and store email addresses via Formspree

## Steps

### Step 1: Initialize Git repo and push to GitHub

- `git init` in the project root
- Add a `.gitignore` (node_modules, .env, etc.)
- Create initial commit with existing files
- Create a GitHub repo via `gh repo create`
- Push to `main`

### Step 2: Restructure for Azure Static Web Apps

Azure SWA expects static files in a specific output directory. We'll set up the simplest possible structure:

- Create a `public/` directory for static assets
- Rename `swipeforcause-landing.html` → `public/index.html`
- Add a `staticwebapp.config.json` at the project root for SWA configuration (routing, headers, custom domain settings)

### Step 3: Install Azure CLI and SWA CLI

- Install Azure CLI (`winget install -e --id Microsoft.AzureCLI` or download)
- Install SWA CLI: `npm install -g @azure/static-web-apps-cli`
- `az login` to authenticate

### Step 4: Create the Azure Static Web App resource

- Use `az staticwebapp create` to provision the SWA resource linked to the GitHub repo
- This auto-creates a GitHub Actions workflow file for CI/CD
- The workflow will deploy from `public/` on every push to `main`

### Step 5: Set up Formspree and wire up forms

- Create a Formspree account at formspree.io
- Create two forms: one for "volunteer-waitlist" and one for "nonprofit-waitlist"
- Get the form endpoint URLs (e.g., `https://formspree.io/f/{form_id}`)
- Update `handleSignup()` in `index.html` to POST to the appropriate Formspree endpoint based on the form's `data-type` attribute
- Include the email and signup type in the submission
- Handle success/error responses and keep the existing UI feedback

**Changes to `index.html`** (the `handleSignup` function around line 1126):
- Replace the `console.log` + TODO with a `fetch()` call to Formspree
- POST `{ email, type }` as JSON with appropriate headers
- On success: show existing success state
- On error: show an error message (add a small error state element)
- Disable the submit button during submission to prevent double-clicks

### Step 6: Configure custom domain

- In the Azure Portal or via CLI, add the custom domain to the SWA resource
- Configure DNS: add a CNAME record pointing to the SWA default hostname
- Azure handles SSL certificate provisioning automatically

### Step 7: Test end-to-end

- Push changes to GitHub, confirm GitHub Actions workflow runs and deploys
- Visit the Azure-provided URL and verify the page loads
- Submit test emails on both forms, verify they appear in the Formspree dashboard
- Visit custom domain and verify it resolves correctly with HTTPS
- Test on mobile to confirm responsive layout works

## Files Modified

| File | Action |
|------|--------|
| `swipeforcause-landing.html` | Renamed to `public/index.html`, updated `handleSignup()` with Formspree integration |
| `public/index.html` | The landing page with working form submissions |
| `staticwebapp.config.json` | New — Azure SWA configuration |
| `.gitignore` | New — standard ignores |
| `.github/workflows/*.yml` | Auto-generated by Azure SWA setup |

NOTE: this plan file lives at C:\Users\jimwh\.claude\plans\compressed-singing-dahl.md
The user has asked for a copy at C:\Code\SwipeForCause\PLAN.md
